{"version":3,"sources":["reddonkey/geom.cljs"],"mappings":"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","names":["reddonkey.geom/in-interval?","a","b","x","p__15771","vec__15775","cljs.core.nth","reddonkey.geom/diff-to-action","y","cljs.core._EQ_","p__15779","vec__15783","reddonkey.geom/block-to-coords","w","h","xr","cljs.core.range","yr","cljs.core.mapcat","cljs.core/concat","iter__5523__auto__","s__15791","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__15793","cljs.core/chunk-buffer","i__15792","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__15790","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","s__15799","b__15801","i__15800","iter__15798","s__15807","b__15809","i__15808","iter__15806","p__15818","vec__15819","reddonkey.geom/set-zeros","board","coords","new-board","cljs.core.reduce","p__15822","vec__15823","cljs.core.assoc","cljs.core.get","p__15834","vec__15835","reddonkey.geom/assign-block","n","p__15838","vec__15839","p__15846","p__15847","vec__15848","vec__15851","reddonkey.geom/contains-zero?","and__5043__auto__","reddonkey.geom/assign-zeros","zeros","p__15856","vec__15857","p__15873","vec__15874","reddonkey.geom/moved-zeros","d","cljs.core/vec","s__15878","b__15880","i__15879","vec__15884","iter__15877","vec__15890","s__15898","b__15900","i__15899","vec__15904","iter__15897","vec__15910","s__15914","b__15916","i__15915","vec__15921","iter__15913","vec__15928","s__15933","b__15935","i__15934","vec__15943","iter__15932","vec__15950","p__15960","p__15961","map__15962","cljs.core/--destructure-map","vec__15963","reddonkey.geom/apply-move","zero","blocks","vec__15966","new-block","new-blocks","new-zeros","p__15969","vec__15970","reddonkey.geom/fits-zero?","assigned-board","non-zero","cljs.core.filter","cljs.core.not_EQ_","cljs.core/flatten","p__15979","map__15980","reddonkey.geom/next-moves","vec__15981","vec__15984","vec__15987","x1","y1","x2","y2","moves1","moves2","allowed-moves1","s__15991","b__15993","i__15992","vec__15994","iter__15990","vec__15997","allowed-moves2","s__16001","b__16003","i__16002","vec__16004","iter__16000","vec__16007","allowed-without-zero1","p__16010","vec__16011","allowed-without-zero2","p__16014","vec__16015","actions1","cljs.core.map","p__16018","vec__16019","cljs.core/-","actions2","p__16022","vec__16023","actions-fit1","p__16026","vec__16027","actions-fit2","p__16030","vec__16031","cljs.core/set","cljs.core.concat","cljs.core/chunk-first"],"sourcesContent":["(ns reddonkey.geom)\n\n(defn in-interval?\n  \"Returns a predicate that tests if its argument falls in\n  the inclusive interval [a, b].\"\n  [a b]\n  (fn [x] (and (>= x a) (<= x b))))\n\n(defn diff-to-action [[x y]]\n  (cond\n    (= [x y] [1 0]) 10\n    (= [x y] [-1 0]) -10\n    (= [x y] [0 1]) 1\n    (= [x y] [0 -1]) -1))\n\n(defn block-to-coords [[x y w h]]\n  (let [xr (range x (+ x w))\n        yr (range y (+ y h))]\n    (mapcat concat (for [x xr] (for [y yr] [x y])))))\n\n(defn set-zeros [board [x y w h]]\n  (let [coords (block-to-coords [x y w h])\n        new-board (reduce (fn [b [x y]] (assoc b y (assoc (get b y) x 0))) board coords)]\n    new-board))\n\n(defn assign-block [board n [x y w h]]\n  (let [coords (block-to-coords [x y w h])\n        new-board (reduce (fn [b [x y]] (assoc b y (assoc (get b y) x n))) board coords)]\n    new-board))\n\n(defn contains-zero? [[x y w h] [a b]]\n  (and\n   ((in-interval? x (+ x w)) a)\n   ((in-interval? x (+ x w)) (+ a 1))\n   ((in-interval? y (+ y h)) b)\n   ((in-interval? y (+ y h)) (+ b 1))))\n\n(defn assign-zeros [board zeros]\n  (reduce (fn [b [x y]] (assoc b y (assoc (get b y) x 0))) board zeros))\n\n(defn moved-zeros [d [a b w h] zeros]\n  (cond\n    (= d -10) (vec (for [[x y] zeros] (if (contains-zero? [a b w h] [x y]) [(+ x w) y] [x y])))\n    (= d 10) (vec (for [[x y] zeros] (if (contains-zero? [a b w h] [x y]) [(- x w) y] [x y])))\n    (= d 1) (vec (for [[x y] zeros] (if (contains-zero? [a b w h] [x y]) [x (- y h)] [x y])))\n    (= d -1) (vec (for [[x y] zeros] (if (contains-zero? [a b w h] [x y]) [x (+ y h)] [x y])))))\n\n(defn apply-move [{:keys [board zero blocks]} [n d]]\n  (let [[x y w h] (get blocks n)\n        new-block (cond\n                    (= d -10) [(- x 1) y w h]\n                    (= d 10) [(+ x 1) y w h]\n                    (= d 1) [x (+ y 1) w h]\n                    (= d -1) [x (- y 1) w h])\n        new-blocks (assoc blocks n new-block)\n        new-zeros (moved-zeros d new-block zero)\n        new-board (assign-block (assign-zeros board new-zeros) n new-block)]\n    {:board new-board :zero new-zeros :blocks new-blocks}))\n\n(defn fits-zero? [n d [x y w h] board]\n  (let [new-block (cond\n                    (= d 1) [x (+ y 1) w h]\n                    (= d -1) [x (- y 1) w h]\n                    (= d 10) [(+ x 1) y w h]\n                    (= d -10) [(- x 1) y w h])\n        assigned-board (assign-block (set-zeros board [x y w h]) n new-block)\n        non-zero (filter (fn [x] (not= x 0)) (flatten assigned-board))]\n    (= (count non-zero) 18)))\n\n(defn next-moves [{:keys [board zero blocks]}]\n  (let [[[x1 y1] [x2 y2]] zero\n        moves1 [[(+ x1 1) y1] [(- x1 1) y1] [x1 (+ y1 1)] [x1 (- y1 1)]]\n        moves2 [[(+ x2 1) y2] [(- x2 1) y2] [x2 (+ y2 1)] [x2 (- y2 1)]]\n        allowed-moves1 (for [[a b] moves1 :when (and ((in-interval? 0 3) a) ((in-interval? 0 4) b))] [a b])\n        allowed-moves2 (for [[a b] moves2 :when (and ((in-interval? 0 3) a) ((in-interval? 0 4) b))] [a b])\n        allowed-without-zero1 (filter (fn [[a b]] (and (not (and (= a x1) (= b y1))) (not (and (= a x2) (= b y2))))) allowed-moves1)\n        allowed-without-zero2 (filter (fn [[a b]] (and (not (and (= a x1) (= b y1))) (not (and (= a x2) (= b y2))))) allowed-moves2)\n        actions1 (map (fn [[x y]] [(get (get board y) x) (diff-to-action (map - [x1 y1] [x y]))]) allowed-without-zero1)\n        actions2 (map (fn [[x y]] [(get (get board y) x) (diff-to-action (map - [x2 y2] [x y]))]) allowed-without-zero2)\n        actions-fit1 (filter (fn [[x y]] (fits-zero? x y (get blocks x) board)) actions1)\n        actions-fit2 (filter (fn [[x y]] (fits-zero? x y (get blocks x) board)) actions2)]\n    (vec (set (concat actions-fit1 actions-fit2)))))\n\n"]}