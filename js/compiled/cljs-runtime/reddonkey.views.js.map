{"version":3,"sources":["reddonkey/views.cljs"],"mappings":"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","names":["reddonkey.views/dispatch-keydown-rules","re-frame.core/dispatch","reddonkey.views/in-interval?","a","b","x","p__15183","vec__15184","cljs.core.nth","reddonkey.views/in-rectangle?","y","w","h","and__5043__auto__","reddonkey.views/find-rect-style","blocks","xs","cljs.core/vec","iter__5523__auto__","s__15188","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__15190","cljs.core/chunk-buffer","i__15189","vec__15191","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__15187","cljs.core/chunk-rest","vec__15194","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core._EQ_","reddonkey.views/cond-to-style","borders","onclick","reddonkey.views/blocks","reddonkey.views/board","reddonkey.views/initial-state","reddonkey.views/get-cell-symbol","i","j","state","vec__15197","s","cljs.core.get","p__15200","vec__15201","reddonkey.views/move-to-str","n","d","p__15204","vec__15205","reddonkey.views/diff-to-action","reddonkey.views/can-move?","next-moves","lst","cljs.core.filter","p__15208","vec__15209","_","reddonkey.views/next-move","moves","p__15212","vec__15213","cljs.core.println","reddonkey.views/main-panel","re_frame.core.subscribe","solving","reagent.core.create_class","cljs.core/deref","board","solve","cljs.core/random-uuid","e","s__15217","b__15219","i__15218","iter__15216","cljs.core.range","s__15221","b__15223","i__15222","iter__15220","s__15243","b__15245","i__15244","iter__15242","vec__15224","vec__15233","vec__15246","vec__15255","corner","cljs.core.not_EQ_","jtk-dvlp.re-frame.dragndrop/draggable","cljs.core/vals","nm","jtk-dvlp.re-frame.dragndrop/dropzone","vec__15227","vec__15230","vec__15236","vec__15239","vec__15249","vec__15252","vec__15258","vec__15261","m","diff","cljs.core.map","cljs.core/-","cljs.core/chunk-first"],"sourcesContent":["(ns reddonkey.views\n  (:require\n   [re-frame.core :as re-frame]\n   [re-pressed.core :as rp]\n   [reagent.core :as reagent]\n   [reddonkey.events :as events]\n   [reddonkey.subs :as subs]\n  [jtk-dvlp.re-frame.dragndrop :as dnd]\n   ))\n\n\n(defn dispatch-keydown-rules []\n  (re-frame/dispatch\n   [::rp/set-keydown-rules\n    {:event-keys [\n                  [[::events/init 1]\n                   [{:keyCode 32} ;;\n                    ]]\n                  [[::events/solve 1]\n                   [{:keyCode 83} ;;\n                    ]]\n                  ]\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n\n(defn in-interval?\n  \"Returns a predicate that tests if its argument falls in\n  the inclusive interval [a, b].\"\n  [a b]\n  (fn [x] (and (>= x a) (<= x b))))\n\n(defn in-rectangle? [x y [a b w h]]\n  (and ((in-interval? a (+ a w)) x) ((in-interval? a (+ a w)) (+ x 1))\n       ((in-interval? b (+ b h)) y) ((in-interval? b (+ b h)) (+ y 1))\n       )\n  )\n(defn find-rect-style [x y blocks]\n  (let [xs (vec (for [[a b w h] blocks :when (in-rectangle? x y [a b w h])]\n    [(= b y) (= (+ y 1) (+ b h)) (= a x) (= (+ a w) (+ x 1))]\n    ))]\n    (if (seq xs) (nth xs 0) [])\n  ))\n\n\n(defn cond-to-style [borders onclick]\n  {:style \n   {:display \"grid\"\n    :width \"50px\"\n    :height \"50px\"\n    :margin \"0px\"\n    :border-width \"0px\"\n    :border-style \"solid\"\n    :border-color \"white\"\n    :color \"white\"\n    :-web-touch-callout \"none\"\n   }\n   :on-click onclick\n   }\n  )\n\n(def blocks\n  {1 [0 0 1 2] 2 [1 0 2 2] 3 [3 0 1 2] 4 [0 2 1 2]\n   5 [1 2 2 1] 6 [3 2 1 2] 7 [1 3 1 1] 8 [2 3 1 1]\n   9 [0 4 1 1] 10 [3 4 1 1]\n   }\n  )\n\n(def board\n  [\n   [1 2 2 3]\n   [1 2 2 3]\n   [4 5 5 6]\n   [4 7 8 6]\n   [9 0 0 10]\n   ]\n  )\n(def initial-state\n  {:board  board\n   :zero   [[1 4] [2 4]]\n   :blocks blocks\n   }\n  )\n\n\n(defn get-cell-symbol [i j state]\n  (let \n    [s (get (get (:board state) j) i)\n     [a b w h] (get (:blocks state) s [-1 -1 0 0])\n     ]\n   (if (= s 0) [\"0\" false 0 0] [(str s) (and (= a i) (= b j)) w h])\n    )\n  )\n\n\n(defn move-to-str [[n d]]\n  (cond\n    (= d 10) [(str n) \"->\"]\n    (= d -10) [(str n) \"<-\"]\n    (= d 1) [(str n)  \"down\"]\n    (= d -1) [(str n)  \"up\"]\n    )\n  )\n\n(defn diff-to-action [[x y]]\n  (cond\n    (= [x y] [1 0]) 10\n    (= [x y] [2 0]) 10\n    (= [x y] [-1 0]) -10\n    (= [x y] [-2 0]) -10\n    (= [x y] [0 1]) 1\n    (= [x y] [0 2]) 1\n    (= [x y] [0 -1]) -1\n    (= [x y] [0 -2]) -1\n    )\n  )\n\n\n(defn can-move? [state i j next-moves]\n  (let [s (get (get (:board state) j) i)\n        lst (filter (fn [[n _]] (= s n)) next-moves)\n        ]\n      (seq lst)\n    )\n)\n\n(defn next-move [state i j next-moves]\n  (let \n    [s (get (get (:board state) j) i)\n     moves (filter (fn [[n _]] (= s n) ) next-moves)\n     ]\n    (println moves)\n    (if (= (count moves) 1) (first moves) [])\n  )\n  )\n\n\n(defn main-panel []\n  (let [ \n      state (re-frame/subscribe [::subs/state])\n      next-moves (re-frame/subscribe [::subs/next-moves])\n      solving (re-frame/subscribe [::subs/solving])\n        ]\n    \n      (reagent/create-class\n        {:component-did-mount\n         (fn [] (dispatch-keydown-rules))\n         :reagent-render\n         (fn [] \n         (let [board @state solve @solving]  \n    \n     ^{:key (random-uuid)} [:div {:style {:display \"block\" :text-align \"center\" }} [:h1 \"Red Donkey\"] [:button {:on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/solve 1]) )} \"Solve\"]\n^{:key (random-uuid)}[:div {:style {:display \"flex\" :justify-content \"center\"}}\n^{:key (random-uuid)}[:div {:style {:display \"block\"  :width \"200px\" :border-style \"solid\" :justify-content \"center\"}}\n    (for [j (range 0 5)]\n      ^{:key (random-uuid)}[:div {:style {:display \"flex\" :width \"255px\" :height \"50px\"}} (for [i (range 0 4)]\n        (let [s (get-cell-symbol i j board)\n              [x corner w h] s\n              ]\n        (if (not= x \"0\")\n       (if (can-move? @state i j @next-moves) ^{:key (random-uuid)} [dnd/draggable\n         {:type :my-entity  :data {:number s} }\n        ^{:key (random-uuid)}[:div  (cond-to-style (find-rect-style i j (vals (:blocks board))) (fn [_] \n                                                                                                        (let [nm (next-move @state i j @next-moves)]\n                                                                                                           (when (seq nm) (re-frame/dispatch [::events/move nm]))\n                                                                                                           )\n                                                                                                         )  ) \n           (if corner [:img {:src (str x \".png\") :width (str (* w 50) \"px\") :height (str (* h 50) \"px\")  }   ] \"\")\n         \n           ]\n        ]\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks board))) (fn [e] (.preventDefault e))) \n           (if corner [:img {:src (str x \".png\") :width (str (* w 50) \"px\") :height (str (* h 50) \"px\")}] \"\")\n         ]\n         )\n       ^{:key (random-uuid)} [dnd/dropzone\n         {:types :my-entity :on-drag-over (fn [e] (.preventDefault e)) :on-drop (fn [e] (let [\n                                                   [n _ _ _] (:number (first (vec e)))\n                                                   m (int n)\n                                                   [a b _ _] (get (:blocks board) m)\n                                                   diff (vec (map - [i j] [a b]))\n                                                   a (diff-to-action diff)\n                                                   ] \n                                                  (when (not (nil? a)) (re-frame/dispatch [::events/move [m a]]))\n                                                   ))\n          }\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks @state))) (fn [e] (.preventDefault e))) \n         \"\"\n         ]\n        ]\n        )\n        )\n      )\n    ]\n  ) ]]\n    (if solve [:div [:img {:src \"progress.gif\" :height \"30px\"}]] [:div])\n    ]\n    ))\n  })\n))\n"]}