{"version":3,"sources":["reddonkey/views.cljs"],"mappings":"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","names":["reddonkey.views/dispatch-keydown-rules","re-frame.core/dispatch","reddonkey.views/in-interval?","a","b","x","p__23285","vec__23286","cljs.core.nth","reddonkey.views/in-rectangle?","y","w","h","and__5043__auto__","reddonkey.views/find-rect-style","blocks","xs","cljs.core/vec","iter__5523__auto__","s__23290","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__23292","cljs.core/chunk-buffer","i__23291","vec__23293","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__23289","cljs.core/chunk-rest","vec__23296","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core._EQ_","reddonkey.views/cond-to-style","borders","reddonkey.views/blocks","reddonkey.views/board","reddonkey.views/initial-state","reddonkey.views/get-cell-symbol","i","j","state","vec__23299","s","cljs.core.get","p__23302","vec__23303","reddonkey.views/move-to-str","n","d","p__23306","vec__23307","reddonkey.views/diff-to-action","reddonkey.views/can-move?","next-moves","lst","cljs.core.filter","p__23310","vec__23311","_","reddonkey.views/main-panel","re_frame.core.subscribe","solving","reagent.core.create_class","cljs.core/deref","board","solve","cljs.core/random-uuid","e","s__23315","b__23317","i__23316","iter__23314","cljs.core.range","s__23319","b__23321","i__23320","iter__23318","s__23341","b__23343","i__23342","iter__23340","vec__23322","vec__23331","vec__23344","vec__23353","corner","cljs.core.not_EQ_","jtk-dvlp.re-frame.dragndrop/draggable","cljs.core/vals","jtk-dvlp.re-frame.dragndrop/dropzone","vec__23325","vec__23328","vec__23334","vec__23337","vec__23347","vec__23350","vec__23356","vec__23359","m","diff","cljs.core.map","cljs.core/-","cljs.core.println","cljs.core/chunk-first"],"sourcesContent":["(ns reddonkey.views\n  (:require\n   [re-frame.core :as re-frame]\n   [re-pressed.core :as rp]\n   [reagent.core :as reagent]\n   [reddonkey.events :as events]\n   [reddonkey.subs :as subs]\n  [jtk-dvlp.re-frame.dragndrop :as dnd]\n   ))\n\n\n(defn dispatch-keydown-rules []\n  (re-frame/dispatch\n   [::rp/set-keydown-rules\n    {:event-keys [\n                  [[::events/init 1]\n                   [{:keyCode 32} ;;\n                    ]]\n                  [[::events/solve 1]\n                   [{:keyCode 83} ;;\n                    ]]\n                  ]\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n\n(defn in-interval?\n  \"Returns a predicate that tests if its argument falls in\n  the inclusive interval [a, b].\"\n  [a b]\n  (fn [x] (and (>= x a) (<= x b))))\n\n(defn in-rectangle? [x y [a b w h]]\n  (and ((in-interval? a (+ a w)) x) ((in-interval? a (+ a w)) (+ x 1))\n       ((in-interval? b (+ b h)) y) ((in-interval? b (+ b h)) (+ y 1))\n       )\n  )\n(defn find-rect-style [x y blocks]\n  (let [xs (vec (for [[a b w h] blocks :when (in-rectangle? x y [a b w h])]\n    [(= b y) (= (+ y 1) (+ b h)) (= a x) (= (+ a w) (+ x 1))]\n    ))]\n    (if (seq xs) (nth xs 0) [])\n  ))\n\n\n(defn cond-to-style [borders]\n  {:style \n   {:display \"grid\"\n    :width \"50px\"\n    :height \"50px\"\n    :margin \"0px\"\n    :border-width \"0px\"\n    :border-style \"solid\"\n    :border-color \"white\"\n    :color \"white\"\n    :-web-touch-callout \"none\"\n   }}\n  )\n\n(def blocks\n  {1 [0 0 1 2] 2 [1 0 2 2] 3 [3 0 1 2] 4 [0 2 1 2]\n   5 [1 2 2 1] 6 [3 2 1 2] 7 [1 3 1 1] 8 [2 3 1 1]\n   9 [0 4 1 1] 10 [3 4 1 1]\n   }\n  )\n\n(def board\n  [\n   [1 2 2 3]\n   [1 2 2 3]\n   [4 5 5 6]\n   [4 7 8 6]\n   [9 0 0 10]\n   ]\n  )\n(def initial-state\n  {:board  board\n   :zero   [[1 4] [2 4]]\n   :blocks blocks\n   }\n  )\n\n\n(defn get-cell-symbol [i j state]\n  (let \n    [s (get (get (:board state) j) i)\n     [a b w h] (get (:blocks state) s [-1 -1 0 0])\n     ]\n   (if (= s 0) [\"0\" false 0 0] [(str s) (and (= a i) (= b j)) w h])\n    )\n  )\n\n\n(defn move-to-str [[n d]]\n  (cond\n    (= d 10) [(str n) \"->\"]\n    (= d -10) [(str n) \"<-\"]\n    (= d 1) [(str n)  \"down\"]\n    (= d -1) [(str n)  \"up\"]\n    )\n  )\n\n(defn diff-to-action [[x y]]\n  (cond\n    (= [x y] [1 0]) 10\n    (= [x y] [2 0]) 10\n    (= [x y] [-1 0]) -10\n    (= [x y] [-2 0]) -10\n    (= [x y] [0 1]) 1\n    (= [x y] [0 2]) 1\n    (= [x y] [0 -1]) -1\n    (= [x y] [0 -2]) -1\n    )\n  )\n\n\n(defn can-move? [state i j next-moves]\n  (let [s (get (get (:board state) j) i)\n        lst (filter (fn [[n _]] (= s n)) next-moves)\n        ]\n      (seq lst)\n    )\n)\n\n\n(defn main-panel []\n  (let [ \n      state (re-frame/subscribe [::subs/state])\n      next-moves (re-frame/subscribe [::subs/next-moves])\n      solving (re-frame/subscribe [::subs/solving])\n        ]\n    \n      (reagent/create-class\n        {:component-did-mount\n         (fn [] (dispatch-keydown-rules))\n         :reagent-render\n         (fn [] \n         (let [board @state solve @solving]  \n    \n     ^{:key (random-uuid)} [:div {:style {:display \"block\" :text-align \"center\" }} [:h1 \"Red Donkey\"] [:button {:on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/solve 1]) )} \"Solve\"]\n^{:key (random-uuid)}[:div {:style {:display \"flex\" :justify-content \"center\"}}\n^{:key (random-uuid)}[:div {:style {:display \"block\"  :width \"200px\" :border-style \"solid\" :justify-content \"center\"}}\n    (for [j (range 0 5)]\n      ^{:key (random-uuid)}[:div {:style {:display \"flex\" :width \"255px\" :height \"50px\"}} (for [i (range 0 4)]\n        (let [s (get-cell-symbol i j @state)\n              [x corner w h] s\n              ]\n        (if (not= x \"0\")\n       (if (can-move? @state i j @next-moves) ^{:key (random-uuid)} [dnd/draggable\n         {:type :my-entity  :data {:number s}}\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks board)))) \n           (if corner [:img {:src (str x \".png\") :width (str (* w 50) \"px\") :height (str (* h 50) \"px\")}] \"\")\n         ]\n        ]\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks board)))) \n           (if corner [:img {:src (str x \".png\") :width (str (* w 50) \"px\") :height (str (* h 50) \"px\")}] \"\")\n         ]\n         )\n       ^{:key (random-uuid)} [dnd/dropzone\n         {:types :my-entity :on-drag-over (fn [e] (.preventDefault e)) :on-drop (fn [e] (let [\n                                                   [n corner w h] (:number (first (vec e)))\n                                                   m (int n)\n                                                   [a b _ _] (get (:blocks @state) m)\n                                                   diff (vec (map - [i j] [a b]))\n                                                   a (diff-to-action diff)\n                                                   ] \n                                                  (when (not (nil? a)) (re-frame/dispatch [::events/move [m a]]))\n                                                   (println (str diff [m a] \" \" i \" \" j)  )\n                                                   ))\n          }\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks @state)))) \n         \"\"\n         ]\n        ]\n        )\n        )\n      )\n    ]\n  ) ]]\n    (if solve [:div [:img {:src \"progress.gif\" :height \"30px\"}]] [:div])\n    \n    ]\n         ))\n        })\n    )\n        )\n"]}