{"version":3,"sources":["reddonkey/views.cljs"],"mappings":"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","names":["reddonkey.views/dispatch-keydown-rules","re-frame.core/dispatch","reddonkey.views/in-interval?","a","b","x","p__24705","vec__24706","cljs.core.nth","reddonkey.views/in-rectangle?","y","w","h","and__5043__auto__","reddonkey.views/find-rect-style","blocks","xs","cljs.core/vec","iter__5523__auto__","s__24710","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__24712","cljs.core/chunk-buffer","i__24711","vec__24713","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__24709","cljs.core/chunk-rest","vec__24716","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core._EQ_","reddonkey.views/cond-to-style","borders","reddonkey.views/blocks","reddonkey.views/board","reddonkey.views/initial-state","reddonkey.views/get-cell-symbol","i","j","state","vec__24719","s","cljs.core.get","p__24722","vec__24723","reddonkey.views/move-to-str","n","d","reddonkey.views/game-board","re_frame.core.subscribe","next-moves","s__24727","b__24729","i__24728","iter__24726","cljs.core.range","s__24731","b__24733","i__24732","iter__24730","s__24741","b__24743","i__24742","iter__24740","cljs.core/vals","cljs.core/deref","vec__24734","vec__24737","vec__24744","vec__24747","corner","cljs.core.not_EQ_","s__24751","b__24753","i__24752","iter__24750","move","e","reddonkey.views/display-re-pressed-example","re-pressed-example","rpe","reddonkey.views/main-panel","cljs.core/chunk-first"],"sourcesContent":["(ns reddonkey.views\n  (:require\n   [re-frame.core :as re-frame]\n   [re-pressed.core :as rp]\n   [reddonkey.events :as events]\n   [reddonkey.subs :as subs]\n   ))\n\n(defn dispatch-keydown-rules []\n  (re-frame/dispatch\n   [::rp/set-keydown-rules\n    {:event-keys [[[::events/set-re-pressed-example \"Hello, world!\"]\n                   [{:keyCode 72} ;; h\n                    {:keyCode 69} ;; e\n                    {:keyCode 76} ;; l\n                    {:keyCode 76} ;; l\n                    {:keyCode 79} ;; o\n                    ]]]\n\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n\n\n(defn in-interval?\n  \"Returns a predicate that tests if its argument falls in\n  the inclusive interval [a, b].\"\n  [a b]\n  (fn [x] (and (>= x a) (<= x b))))\n\n(defn in-rectangle? [x y [a b w h]]\n  (and ((in-interval? a (+ a w)) x) ((in-interval? a (+ a w)) (+ x 1))\n       ((in-interval? b (+ b h)) y) ((in-interval? b (+ b h)) (+ y 1))\n       )\n  )\n(defn find-rect-style [x y blocks]\n  (let [xs (vec (for [[a b w h] blocks :when (in-rectangle? x y [a b w h])]\n    [(= b y) (= (+ y 1) (+ b h)) (= a x) (= (+ a w) (+ x 1))]\n    ))]\n    (if (seq xs) (nth xs 0) [])\n  ))\n\n\n(defn cond-to-style [borders]\n  {:style \n   {:display \"grid\"\n    :width \"50px\"\n    :height \"50px\"\n    :margin \"0px\"\n    :border-width \"0px\"\n    :border-style \"solid\"\n    :border-color \"white\"\n    :color \"white\"\n   }}\n  )\n\n(def blocks\n  {1 [0 0 1 2] 2 [1 0 2 2] 3 [3 0 1 2] 4 [0 2 1 2]\n   5 [1 2 2 1] 6 [3 2 1 2] 7 [1 3 1 1] 8 [2 3 1 1]\n   9 [0 4 1 1] 10 [3 4 1 1]\n   }\n  )\n\n(def board\n  [\n   [1 2 2 3]\n   [1 2 2 3]\n   [4 5 5 6]\n   [4 7 8 6]\n   [9 0 0 10]\n   ]\n  )\n(def initial-state\n  {:board  board\n   :zero   [[1 4] [2 4]]\n   :blocks blocks\n   }\n  )\n\n\n(defn get-cell-symbol [i j state]\n  (let \n    [s (get (get (:board state) j) i)\n     [a b w h] (get (:blocks state) s [-1 -1 0 0])\n     ]\n   (if (= s 0) [\"0\" false 0 0] [(str s) (and (= a i) (= b j)) w h])\n    )\n  )\n\n\n(defn move-to-str [[n d]]\n  (cond\n    (= d 10) [(str n) \"->\"]\n    (= d -10) [(str n) \"<-\"]\n    (= d 1) [(str n)  \"down\"]\n    (= d -1) [(str n)  \"up\"]\n    )\n  )\n\n\n(defn game-board []\n  (let [state (re-frame/subscribe [::subs/state])\n        next-moves (re-frame/subscribe [::subs/next-moves])\n        ]\n    [:div {:style {:display \"block\"  :width \"200px\" :border-style \"solid\" :justify-content \"center\"}}\n     \n    (for [j (range 0 5)]\n      [:div {:style {:display \"flex\" :width \"255px\" :height \"50px\"}} (for [i (range 0 4)]\n        [:div (cond-to-style (find-rect-style i j (vals (:blocks @state)))) \n         (let [[x corner w h] (get-cell-symbol i j @state)] \n           (if (and corner (not= x \"0\")) [:img {:src (str x \".png\") :width (str (* w 50) \"px\") :height (str (* h 50) \"px\")}] \"\")\n           )\n         ]\n      )\n    ]\n  )\n    [:div \"next moves \"\n     (for [move @next-moves]\n       [:div [:button {:on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/move move]) )} (str (move-to-str move)) ]]\n       )\n     ] \n    ]\n    )\n  )\n\n(defn display-re-pressed-example []\n  (let [re-pressed-example (re-frame/subscribe [::subs/re-pressed-example])]\n    [:div\n\n     [:p\n      \"Re-pressed is listening for keydown events. However, re-pressed\n      won't trigger any events until you set some keydown rules.\"]\n\n     [:div\n      [:button\n       {:on-click dispatch-keydown-rules}\n       \"set keydown rules\"]]\n\n     [:p\n      [:span\n       \"After clicking the button, you will have defined a rule that\n       will display a message when you type \"]\n      [:strong [:code \"hello\"]]\n      [:span \". So go ahead, try it out!\"]]\n\n     (when-let [rpe @re-pressed-example]\n       [:div\n        {:style {:padding          \"16px\"\n                 :background-color \"lightgrey\"\n                 :border           \"solid 1px grey\"\n                 :border-radius    \"4px\"\n                 :margin-top       \"16px\"\n                 }}\n        rpe])]))\n\n(defn main-panel []\n  (let [state (re-frame/subscribe [::subs/state])\n        next-moves (re-frame/subscribe [::subs/next-moves])\n        ]\n    [:div {:style {:display \"block\" :text-align \"center\" }} [:h1 \"Red Donkey\"]\n    [:div {:style {:display \"flex\" :justify-content \"center\"}}\n      [game-board] ]\n     ]))\n"]}