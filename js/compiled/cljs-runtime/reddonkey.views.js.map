{"version":3,"sources":["reddonkey/views.cljs"],"mappings":"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","names":["reddonkey.views/dispatch-keydown-rules","re-frame.core/dispatch","reddonkey.views/in-interval?","a","b","x","p__12811","vec__12812","cljs.core.nth","reddonkey.views/in-rectangle?","y","w","h","and__5043__auto__","reddonkey.views/find-rect-style","blocks","xs","cljs.core/vec","iter__5523__auto__","s__12816","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__12818","cljs.core/chunk-buffer","i__12817","vec__12819","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__12815","cljs.core/chunk-rest","vec__12822","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core._EQ_","reddonkey.views/cond-to-style","borders","reddonkey.views/blocks","reddonkey.views/board","reddonkey.views/initial-state","reddonkey.views/get-cell-symbol","i","j","state","vec__12825","s","cljs.core.get","p__12828","vec__12829","reddonkey.views/move-to-str","n","d","p__12832","vec__12833","reddonkey.views/diff-to-action","reddonkey.views/game-board","re_frame.core.subscribe","next-moves","s__12837","b__12839","i__12838","iter__12836","cljs.core.range","s__12841","b__12843","i__12842","iter__12840","s__12863","b__12865","i__12864","iter__12862","vec__12844","vec__12853","vec__12866","vec__12875","cljs.core/deref","corner","cljs.core.not_EQ_","jtk-dvlp.re-frame.dragndrop/draggable","cljs.core/vals","jtk-dvlp.re-frame.dragndrop/dropzone","e","vec__12847","vec__12850","vec__12856","vec__12859","vec__12869","vec__12872","vec__12878","vec__12881","m","_","diff","cljs.core.map","cljs.core/-","cljs.core.println","s__12885","b__12887","i__12886","iter__12884","move","reddonkey.views/display-re-pressed-example","re-pressed-example","rpe","reddonkey.views/main-panel","cljs.core/chunk-first"],"sourcesContent":["(ns reddonkey.views\n  (:require\n   [re-frame.core :as re-frame]\n   [re-pressed.core :as rp]\n   [reddonkey.events :as events]\n   [reddonkey.subs :as subs]\n      [reddonkey.geom :as geom]\n  [jtk-dvlp.re-frame.dragndrop :as dnd]\n   ))\n\n(defn dispatch-keydown-rules []\n  (re-frame/dispatch\n   [::rp/set-keydown-rules\n    {:event-keys [[[::events/set-re-pressed-example \"Hello, world!\"]\n                   [{:keyCode 72} ;; h\n                    {:keyCode 69} ;; e\n                    {:keyCode 76} ;; l\n                    {:keyCode 76} ;; l\n                    {:keyCode 79} ;; o\n                    ]]]\n\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n\n\n(defn in-interval?\n  \"Returns a predicate that tests if its argument falls in\n  the inclusive interval [a, b].\"\n  [a b]\n  (fn [x] (and (>= x a) (<= x b))))\n\n(defn in-rectangle? [x y [a b w h]]\n  (and ((in-interval? a (+ a w)) x) ((in-interval? a (+ a w)) (+ x 1))\n       ((in-interval? b (+ b h)) y) ((in-interval? b (+ b h)) (+ y 1))\n       )\n  )\n(defn find-rect-style [x y blocks]\n  (let [xs (vec (for [[a b w h] blocks :when (in-rectangle? x y [a b w h])]\n    [(= b y) (= (+ y 1) (+ b h)) (= a x) (= (+ a w) (+ x 1))]\n    ))]\n    (if (seq xs) (nth xs 0) [])\n  ))\n\n\n(defn cond-to-style [borders]\n  {:style \n   {:display \"grid\"\n    :width \"50px\"\n    :height \"50px\"\n    :margin \"0px\"\n    :border-width \"0px\"\n    :border-style \"solid\"\n    :border-color \"white\"\n    :color \"white\"\n    :-web-touch-callout \"none\"\n   }}\n  )\n\n(def blocks\n  {1 [0 0 1 2] 2 [1 0 2 2] 3 [3 0 1 2] 4 [0 2 1 2]\n   5 [1 2 2 1] 6 [3 2 1 2] 7 [1 3 1 1] 8 [2 3 1 1]\n   9 [0 4 1 1] 10 [3 4 1 1]\n   }\n  )\n\n(def board\n  [\n   [1 2 2 3]\n   [1 2 2 3]\n   [4 5 5 6]\n   [4 7 8 6]\n   [9 0 0 10]\n   ]\n  )\n(def initial-state\n  {:board  board\n   :zero   [[1 4] [2 4]]\n   :blocks blocks\n   }\n  )\n\n\n(defn get-cell-symbol [i j state]\n  (let \n    [s (get (get (:board state) j) i)\n     [a b w h] (get (:blocks state) s [-1 -1 0 0])\n     ]\n   (if (= s 0) [\"0\" false 0 0] [(str s) (and (= a i) (= b j)) w h])\n    )\n  )\n\n\n(defn move-to-str [[n d]]\n  (cond\n    (= d 10) [(str n) \"->\"]\n    (= d -10) [(str n) \"<-\"]\n    (= d 1) [(str n)  \"down\"]\n    (= d -1) [(str n)  \"up\"]\n    )\n  )\n\n(defn diff-to-action [[x y]]\n  (cond\n    (= [x y] [1 0]) 10\n    (= [x y] [2 0]) 10\n    (= [x y] [-1 0]) -10\n    (= [x y] [-2 0]) -10\n    (= [x y] [0 1]) 1\n    (= [x y] [0 2]) 1\n    (= [x y] [0 -1]) -1\n    (= [x y] [0 -2]) -1\n    )\n  )\n\n(defn game-board []\n  (let [state (re-frame/subscribe [::subs/state])\n        next-moves (re-frame/subscribe [::subs/next-moves])\n        ]\n    [:div {:style {:display \"block\"  :width \"200px\" :border-style \"solid\" :justify-content \"center\"}}\n     \n    (for [j (range 0 5)]\n      [:div {:style {:display \"flex\" :width \"255px\" :height \"50px\"}} (for [i (range 0 4)]\n        (let [s (get-cell-symbol i j @state)\n              [x corner w h] s\n              ]\n        (if (not= x \"0\")\n        [dnd/draggable\n         {:type :my-entity  :data {:number s}}\n        [:div (cond-to-style (find-rect-style i j (vals (:blocks @state)))) \n           (if corner [:img {:src (str x \".png\") :width (str (* w 50) \"px\") :height (str (* h 50) \"px\")}] \"\")\n         ]]\n        [dnd/dropzone\n         {:types :my-entity :on-drag-over (fn [e] (.preventDefault e)) :on-drop (fn [e] (let [\n                                                   [n corner w h] (:number (first (vec e)))\n                                                   m (int n)\n                                                   [a b _ _] (get (:blocks @state) m)\n                                                   diff (map - [i j] [a b])\n                                                   a (diff-to-action diff)\n                                                   ] \n                                                  (when (not (nil? a)) (re-frame/dispatch [::events/move [m a]]))\n                                                   (println (str [m a] \" \" i \" \" j)  )\n                                                   ))\n          }\n        [:div (cond-to-style (find-rect-style i j (vals (:blocks @state)))) \n         \"\"\n         ]\n        ]\n        )\n        )\n      )\n    ]\n  )\n    [:div \n      (for [move @next-moves]\n       \"\" ;  [:div [:button {:on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/move move]) )} (str (move-to-str move)) ]]\n        )\n     ] \n    ]\n    )\n  )\n\n(defn display-re-pressed-example []\n  (let [re-pressed-example (re-frame/subscribe [::subs/re-pressed-example])]\n    [:div\n\n     [:p\n      \"Re-pressed is listening for keydown events. However, re-pressed\n      won't trigger any events until you set some keydown rules.\"]\n\n     [:div\n      [:button\n       {:on-click dispatch-keydown-rules}\n       \"set keydown rules\"]]\n\n     [:p\n      [:span\n       \"After clicking the button, you will have defined a rule that\n       will display a message when you type \"]\n      [:strong [:code \"hello\"]]\n      [:span \". So go ahead, try it out!\"]]\n\n     (when-let [rpe @re-pressed-example]\n       [:div\n        {:style {:padding          \"16px\"\n                 :background-color \"lightgrey\"\n                 :border           \"solid 1px grey\"\n                 :border-radius    \"4px\"\n                 :margin-top       \"16px\"\n                 }}\n        rpe])]))\n\n(defn main-panel []\n  (let [state (re-frame/subscribe [::subs/state])\n        next-moves (re-frame/subscribe [::subs/next-moves])\n        ]\n    [:div {:style {:display \"block\" :text-align \"center\" }} [:h1 \"Red Donkey\"]\n    [:div {:style {:display \"flex\" :justify-content \"center\"}}\n      [game-board] ]\n     ]))\n"]}