{"version":3,"sources":["reddonkey/views.cljs"],"mappings":"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","names":["reddonkey.views/dispatch-keydown-rules","re-frame.core/dispatch","reddonkey.views/in-interval?","a","b","x","p__12400","vec__12401","cljs.core.nth","reddonkey.views/in-rectangle?","y","w","h","and__5043__auto__","reddonkey.views/find-rect-style","blocks","xs","cljs.core/vec","iter__5523__auto__","s__12405","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__12407","cljs.core/chunk-buffer","i__12406","vec__12408","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__12404","cljs.core/chunk-rest","vec__12411","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core._EQ_","reddonkey.views/cond-to-style","borders","reddonkey.views/blocks","reddonkey.views/board","reddonkey.views/initial-state","reddonkey.views/get-cell-symbol","i","j","state","vec__12414","s","cljs.core.get","p__12417","vec__12418","reddonkey.views/move-to-str","n","d","p__12421","vec__12422","reddonkey.views/diff-to-action","reddonkey.views/can-move?","next-moves","lst","cljs.core.filter","p__12425","vec__12426","_","reddonkey.views/game-board","re_frame.core.subscribe","cljs.core/random-uuid","s__12430","b__12432","i__12431","iter__12429","cljs.core.range","s__12434","b__12436","i__12435","iter__12433","s__12456","b__12458","i__12457","iter__12455","vec__12437","vec__12446","vec__12459","vec__12468","cljs.core/deref","corner","cljs.core.not_EQ_","jtk-dvlp.re-frame.dragndrop/draggable","cljs.core/vals","jtk-dvlp.re-frame.dragndrop/dropzone","e","vec__12440","vec__12443","vec__12449","vec__12452","vec__12462","vec__12465","vec__12471","vec__12474","m","diff","cljs.core.map","cljs.core/-","cljs.core.println","s__12478","b__12480","i__12479","iter__12477","move","reddonkey.views/main-panel","board","reagent.core.create_class","cljs.core/chunk-first"],"sourcesContent":["(ns reddonkey.views\n  (:require\n   [re-frame.core :as re-frame]\n   [re-pressed.core :as rp]\n   [reagent.core :as reagent]\n   [reddonkey.events :as events]\n   [reddonkey.subs :as subs]\n      [reddonkey.geom :as geom]\n  [jtk-dvlp.re-frame.dragndrop :as dnd]\n   ))\n\n(defn dispatch-keydown-rules []\n  (re-frame/dispatch\n   [::rp/set-keydown-rules\n    {:event-keys [[[::events/set-re-pressed-example \"Hello, world!\"]\n                   [{:keyCode 72} ;; h\n                    {:keyCode 69} ;; e\n                    {:keyCode 76} ;; l\n                    {:keyCode 76} ;; l\n                    {:keyCode 79} ;; o\n                    ]]]\n\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n\n\n(defn in-interval?\n  \"Returns a predicate that tests if its argument falls in\n  the inclusive interval [a, b].\"\n  [a b]\n  (fn [x] (and (>= x a) (<= x b))))\n\n(defn in-rectangle? [x y [a b w h]]\n  (and ((in-interval? a (+ a w)) x) ((in-interval? a (+ a w)) (+ x 1))\n       ((in-interval? b (+ b h)) y) ((in-interval? b (+ b h)) (+ y 1))\n       )\n  )\n(defn find-rect-style [x y blocks]\n  (let [xs (vec (for [[a b w h] blocks :when (in-rectangle? x y [a b w h])]\n    [(= b y) (= (+ y 1) (+ b h)) (= a x) (= (+ a w) (+ x 1))]\n    ))]\n    (if (seq xs) (nth xs 0) [])\n  ))\n\n\n(defn cond-to-style [borders]\n  {:style \n   {:display \"grid\"\n    :width \"50px\"\n    :height \"50px\"\n    :margin \"0px\"\n    :border-width \"0px\"\n    :border-style \"solid\"\n    :border-color \"white\"\n    :color \"white\"\n    :-web-touch-callout \"none\"\n   }}\n  )\n\n(def blocks\n  {1 [0 0 1 2] 2 [1 0 2 2] 3 [3 0 1 2] 4 [0 2 1 2]\n   5 [1 2 2 1] 6 [3 2 1 2] 7 [1 3 1 1] 8 [2 3 1 1]\n   9 [0 4 1 1] 10 [3 4 1 1]\n   }\n  )\n\n(def board\n  [\n   [1 2 2 3]\n   [1 2 2 3]\n   [4 5 5 6]\n   [4 7 8 6]\n   [9 0 0 10]\n   ]\n  )\n(def initial-state\n  {:board  board\n   :zero   [[1 4] [2 4]]\n   :blocks blocks\n   }\n  )\n\n\n(defn get-cell-symbol [i j state]\n  (let \n    [s (get (get (:board state) j) i)\n     [a b w h] (get (:blocks state) s [-1 -1 0 0])\n     ]\n   (if (= s 0) [\"0\" false 0 0] [(str s) (and (= a i) (= b j)) w h])\n    )\n  )\n\n\n(defn move-to-str [[n d]]\n  (cond\n    (= d 10) [(str n) \"->\"]\n    (= d -10) [(str n) \"<-\"]\n    (= d 1) [(str n)  \"down\"]\n    (= d -1) [(str n)  \"up\"]\n    )\n  )\n\n(defn diff-to-action [[x y]]\n  (cond\n    (= [x y] [1 0]) 10\n    (= [x y] [2 0]) 10\n    (= [x y] [-1 0]) -10\n    (= [x y] [-2 0]) -10\n    (= [x y] [0 1]) 1\n    (= [x y] [0 2]) 1\n    (= [x y] [0 -1]) -1\n    (= [x y] [0 -2]) -1\n    )\n  )\n\n\n(defn can-move? [state i j next-moves]\n  (let [s (get (get (:board state) j) i)\n        lst (filter (fn [[n _]] (= s n)) next-moves)\n        ]\n      (seq lst)\n    )\n)\n\n(defn game-board []\n  (let [state (re-frame/subscribe [::subs/state])\n        next-moves (re-frame/subscribe [::subs/next-moves])\n        ]\n    ^{:key (random-uuid)}[:div {:style {:display \"block\"  :width \"200px\" :border-style \"solid\" :justify-content \"center\"}}\n     \n    (for [j (range 0 5)]\n      ^{:key (random-uuid)}[:div {:style {:display \"flex\" :width \"255px\" :height \"50px\"}} (for [i (range 0 4)]\n        (let [s (get-cell-symbol i j @state)\n              [x corner w h] s\n              ]\n        (if (not= x \"0\")\n       (if (can-move? @state i j @next-moves) ^{:key (random-uuid)} [dnd/draggable\n         {:type :my-entity  :data {:number s}}\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks @state)))) \n           (if corner [:img {:src (str x \".png\") :width (str (* w 50) \"px\") :height (str (* h 50) \"px\")}] \"\")\n         ]\n        ]\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks @state)))) \n           (if corner [:img {:src (str x \".png\") :width (str (* w 50) \"px\") :height (str (* h 50) \"px\")}] \"\")\n         ]\n         )\n       ^{:key (random-uuid)} [dnd/dropzone\n         {:types :my-entity :on-drag-over (fn [e] (.preventDefault e)) :on-drop (fn [e] (let [\n                                                   [n corner w h] (:number (first (vec e)))\n                                                   m (int n)\n                                                   [a b _ _] (get (:blocks @state) m)\n                                                   diff (vec (map - [i j] [a b]))\n                                                   a (diff-to-action diff)\n                                                   ] \n                                                  (when (not (nil? a)) (re-frame/dispatch [::events/move [m a]]))\n                                                   (println (str diff [m a] \" \" i \" \" j)  )\n                                                   ))\n          }\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks @state)))) \n         \"\"\n         ]\n        ]\n        )\n        )\n      )\n    ]\n  )\n    ^{:key (random-uuid)}[:div \n      (for [move @next-moves]\n      \"\" ;  [:div [:button {:on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/move move]) )} (str (move-to-str move)) ]]\n        )\n     ] \n    ]\n    )\n  )\n\n(defn main-panel []\n  (let [ \n      state (re-frame/subscribe [::subs/state])\n        ]\n    (let [board @state]\n      (reagent/create-class\n        {:compoment-did-mount\n         (fn [] (println \"mounted\"))\n         :reagent-render\n         (fn [] \n         ^{:key (random-uuid)} [:div {:style {:display \"block\" :text-align \"center\" }} [:h1 \"Red Donkey\"]\n          ^{:key (random-uuid)}[:div {:style {:display \"flex\" :justify-content \"center\"}}\n            [game-board] \n            \n            ]\n           ]\n         )}\n        )\n      \n      )\n\n    )\n        )\n"]}