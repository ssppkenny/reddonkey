{"version":3,"sources":["reddonkey/views.cljs"],"mappings":"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","names":["reddonkey.views/dispatch-keydown-rules","re-frame.core/dispatch","reddonkey.views/in-interval?","a","b","x","p__12915","vec__12916","cljs.core.nth","reddonkey.views/in-rectangle?","y","w","h","and__5043__auto__","reddonkey.views/find-rect-style","blocks","xs","cljs.core/vec","iter__5523__auto__","s__12920","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__12922","cljs.core/chunk-buffer","i__12921","vec__12923","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__12919","cljs.core/chunk-rest","vec__12926","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core._EQ_","reddonkey.views/cond-to-style","borders","reddonkey.views/blocks","reddonkey.views/board","reddonkey.views/initial-state","reddonkey.views/get-cell-symbol","i","j","state","vec__12929","s","cljs.core.get","p__12932","vec__12933","reddonkey.views/move-to-str","n","d","p__12936","vec__12937","reddonkey.views/diff-to-action","reddonkey.views/game-board","re_frame.core.subscribe","next-moves","cljs.core/random-uuid","s__12941","b__12943","i__12942","iter__12940","cljs.core.range","s__12945","b__12947","i__12946","iter__12944","s__12967","b__12969","i__12968","iter__12966","vec__12948","vec__12957","vec__12970","vec__12979","cljs.core/deref","corner","cljs.core.not_EQ_","jtk-dvlp.re-frame.dragndrop/draggable","cljs.core/vals","jtk-dvlp.re-frame.dragndrop/dropzone","e","vec__12951","vec__12954","vec__12960","vec__12963","vec__12973","vec__12976","vec__12982","vec__12985","m","_","diff","cljs.core.map","cljs.core/-","cljs.core.println","reddonkey.views/display-re-pressed-example","re-pressed-example","rpe","reddonkey.views/main-panel","cljs.core/chunk-first"],"sourcesContent":["(ns reddonkey.views\n  (:require\n   [re-frame.core :as re-frame]\n   [re-pressed.core :as rp]\n   [reddonkey.events :as events]\n   [reddonkey.subs :as subs]\n      [reddonkey.geom :as geom]\n  [jtk-dvlp.re-frame.dragndrop :as dnd]\n   ))\n\n(defn dispatch-keydown-rules []\n  (re-frame/dispatch\n   [::rp/set-keydown-rules\n    {:event-keys [[[::events/set-re-pressed-example \"Hello, world!\"]\n                   [{:keyCode 72} ;; h\n                    {:keyCode 69} ;; e\n                    {:keyCode 76} ;; l\n                    {:keyCode 76} ;; l\n                    {:keyCode 79} ;; o\n                    ]]]\n\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n\n\n(defn in-interval?\n  \"Returns a predicate that tests if its argument falls in\n  the inclusive interval [a, b].\"\n  [a b]\n  (fn [x] (and (>= x a) (<= x b))))\n\n(defn in-rectangle? [x y [a b w h]]\n  (and ((in-interval? a (+ a w)) x) ((in-interval? a (+ a w)) (+ x 1))\n       ((in-interval? b (+ b h)) y) ((in-interval? b (+ b h)) (+ y 1))\n       )\n  )\n(defn find-rect-style [x y blocks]\n  (let [xs (vec (for [[a b w h] blocks :when (in-rectangle? x y [a b w h])]\n    [(= b y) (= (+ y 1) (+ b h)) (= a x) (= (+ a w) (+ x 1))]\n    ))]\n    (if (seq xs) (nth xs 0) [])\n  ))\n\n\n(defn cond-to-style [borders]\n  {:style \n   {:display \"grid\"\n    :width \"50px\"\n    :height \"50px\"\n    :margin \"0px\"\n    :border-width \"0px\"\n    :border-style \"solid\"\n    :border-color \"white\"\n    :color \"white\"\n    :-webkit-touch-callout \"none\"\n   }}\n  )\n\n(def blocks\n  {1 [0 0 1 2] 2 [1 0 2 2] 3 [3 0 1 2] 4 [0 2 1 2]\n   5 [1 2 2 1] 6 [3 2 1 2] 7 [1 3 1 1] 8 [2 3 1 1]\n   9 [0 4 1 1] 10 [3 4 1 1]\n   }\n  )\n\n(def board\n  [\n   [1 2 2 3]\n   [1 2 2 3]\n   [4 5 5 6]\n   [4 7 8 6]\n   [9 0 0 10]\n   ]\n  )\n(def initial-state\n  {:board  board\n   :zero   [[1 4] [2 4]]\n   :blocks blocks\n   }\n  )\n\n\n(defn get-cell-symbol [i j state]\n  (let \n    [s (get (get (:board state) j) i)\n     [a b w h] (get (:blocks state) s [-1 -1 0 0])\n     ]\n   (if (= s 0) [\"0\" false 0 0] [(str s) (and (= a i) (= b j)) w h])\n    )\n  )\n\n\n(defn move-to-str [[n d]]\n  (cond\n    (= d 10) [(str n) \"->\"]\n    (= d -10) [(str n) \"<-\"]\n    (= d 1) [(str n)  \"down\"]\n    (= d -1) [(str n)  \"up\"]\n    )\n  )\n\n(defn diff-to-action [[x y]]\n  (cond\n    (= [x y] [1 0]) 10\n    (= [x y] [2 0]) 10\n    (= [x y] [-1 0]) -10\n    (= [x y] [-2 0]) -10\n    (= [x y] [0 1]) 1\n    (= [x y] [0 2]) 1\n    (= [x y] [0 -1]) -1\n    (= [x y] [0 -2]) -1\n    )\n  )\n\n(defn game-board []\n  (let [state (re-frame/subscribe [::subs/state])\n        next-moves (re-frame/subscribe [::subs/next-moves])\n        ]\n\n^{:key (random-uuid)} [:div {:style {:display \"block\"  :width \"200px\" :border-style \"solid\" :justify-content \"center\"}}\n     \n    (for [j (range 0 5)]\n      ^{:key (random-uuid)}[:div {:style {:display \"flex\" :width \"255px\" :height \"50px\"}} (for [i (range 0 4)]\n        (let [s (get-cell-symbol i j @state)\n              [x corner w h] s\n              ]\n        (if (not= x \"0\")\n        ^{:key (random-uuid)}[dnd/draggable\n         {:type :my-entity  :data {:number s}}\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks @state)))) \n           (if corner [:img {:src (str x \".png\") :width (str (* w 50) \"px\") :height (str (* h 50) \"px\")}] \"\")\n         ]]\n       ^{:key (random-uuid)} [dnd/dropzone\n         {:types :my-entity :on-drop (fn [e]  (let [\n                                                   [n corner w h] (:number (first (vec e)))\n                                                   m (int n)\n                                                   [a b _ _] (get (:blocks @state) m)\n                                                   diff (map - [i j] [a b])\n                                                   a (diff-to-action diff)\n                                                   ] \n                                                  (when (not (nil? a)) (re-frame/dispatch [::events/move [m a]]))\n                                                   (println (str [m a] \" \" i \" \" j)  )\n                                                   ))\n          }\n        ^{:key (random-uuid)}[:div (cond-to-style (find-rect-style i j (vals (:blocks @state)))) \n         \"\"\n         ]\n        ]\n        )\n        )\n      )\n    ]\n  )\n    ; [:div \"next moves \"\n    ;  (for [move @next-moves]\n    ;    [:div [:button {:on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/move move]) )} (str (move-to-str move)) ]]\n    ;    )\n    ;  ] \n    ]\n    )\n  )\n\n(defn display-re-pressed-example []\n  (let [re-pressed-example (re-frame/subscribe [::subs/re-pressed-example])]\n    [:div\n\n     [:p\n      \"Re-pressed is listening for keydown events. However, re-pressed\n      won't trigger any events until you set some keydown rules.\"]\n\n     [:div\n      [:button\n       {:on-click dispatch-keydown-rules}\n       \"set keydown rules\"]]\n\n     [:p\n      [:span\n       \"After clicking the button, you will have defined a rule that\n       will display a message when you type \"]\n      [:strong [:code \"hello\"]]\n      [:span \". So go ahead, try it out!\"]]\n\n     (when-let [rpe @re-pressed-example]\n       [:div\n        {:style {:padding          \"16px\"\n                 :background-color \"lightgrey\"\n                 :border           \"solid 1px grey\"\n                 :border-radius    \"4px\"\n                 :margin-top       \"16px\"\n                 }}\n        rpe])]))\n\n(defn main-panel []\n  (let [state (re-frame/subscribe [::subs/state])\n        next-moves (re-frame/subscribe [::subs/next-moves])\n        ]\n   ^{:key (random-uuid)} [:div {:style {:display \"block\" :text-align \"center\" }} [:h1 \"Red Donkey\"]\n    ^{:key (random-uuid)}[:div {:style {:display \"flex\" :justify-content \"center\"}}\n      [game-board] ]\n     ]))\n"]}